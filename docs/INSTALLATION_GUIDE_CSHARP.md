# Collab Todo Desktop - C# / .NET 버전 설치 및 실행 가이드

## 개요

Collab Todo Desktop C# / .NET 버전은 Python 설치 없이 단일 실행 파일(.exe)로 배포됩니다. 모든 의존성이 포함되어 있어 추가 설치가 필요 없습니다.

## 시스템 요구사항

- **운영체제**: Windows 10 이상 (64비트)
- **메모리**: 최소 4GB RAM (권장 8GB)
- **디스크 공간**: 약 100MB (실행 파일 포함)
- **네트워크**: NAS의 MySQL 데이터베이스에 접근 가능해야 함
- **Python**: **설치 불필요** (모든 런타임이 포함됨)

## 설치 방법

### 방법 1: 단일 실행 파일 사용 (권장)

1. **실행 파일 다운로드**
   - `CollabTodoDesktop.exe` 파일을 다운로드합니다.
   - 파일 크기: 약 50-80MB (모든 의존성 포함)

2. **설치 없이 실행**
   - 다운로드한 `.exe` 파일을 원하는 위치에 저장합니다.
   - 더블 클릭하여 실행합니다.
   - **추가 설치 과정이 없습니다.**

3. **바로가기 생성 (선택사항)**
   - 실행 파일을 우클릭 → "바로가기 만들기"
   - 바로가기를 바탕화면이나 시작 메뉴로 이동

### 방법 2: 설치 프로그램 사용 (선택사항)

향후 Inno Setup으로 만든 설치 프로그램이 제공될 경우:

1. `CollabTodoDesktop-Setup-1.0.0.exe` 실행
2. 설치 마법사 따라하기
3. 시작 메뉴 및 바탕화면 바로가기 자동 생성

## 설정

### 1. 데이터베이스 연결 설정

애플리케이션은 다음 두 가지 방법으로 데이터베이스 설정을 읽습니다:

#### 방법 A: appsettings.json 파일 (권장)

1. 실행 파일과 같은 폴더에 `appsettings.json` 파일을 생성합니다.
2. 다음 내용을 입력합니다:

```json
{
  "Database": {
    "Host": "192.168.1.100",
    "Port": 3306,
    "User": "your_username",
    "Password": "your_password",
    "Database": "collab_todo",
    "UseSsl": false
  },
  "AiService": {
    "BaseUrl": "https://api.example.com",
    "ApiKey": "optional_api_key",
    "TimeoutSeconds": 15
  }
}
```

**중요**: `appsettings.json` 파일은 실행 파일과 같은 폴더에 있어야 합니다.

#### 방법 B: 환경 변수

환경 변수를 설정하면 `appsettings.json`의 값을 덮어씁니다:

- `COLLAB_TODO_DB_HOST`: 데이터베이스 호스트 주소
- `COLLAB_TODO_DB_PORT`: 포트 번호 (기본값: 3306)
- `COLLAB_TODO_DB_USER`: 사용자 이름
- `COLLAB_TODO_DB_PASSWORD`: 비밀번호
- `COLLAB_TODO_DB_NAME`: 데이터베이스 이름
- `COLLAB_TODO_DB_USE_SSL`: SSL 사용 여부 ("true"/"false")

**AI 서비스 설정 (선택사항)**:
- `COLLAB_TODO_AI_BASE_URL`: AI 서비스 기본 URL
- `COLLAB_TODO_AI_API_KEY`: API 키 (선택사항)
- `COLLAB_TODO_AI_TIMEOUT_SECONDS`: 타임아웃 (초)

### 2. 환경 변수 설정 방법

#### Windows 10/11

1. **시스템 환경 변수 설정**:
   - 시작 메뉴에서 "환경 변수" 검색
   - "시스템 환경 변수 편집" 선택
   - "환경 변수" 버튼 클릭
   - "시스템 변수" 섹션에서 "새로 만들기" 클릭
   - 변수 이름과 값 입력 후 확인

2. **사용자 환경 변수 설정**:
   - 위와 동일하지만 "사용자 변수" 섹션 사용

3. **명령 프롬프트에서 임시 설정**:
   ```cmd
   set COLLAB_TODO_DB_HOST=192.168.1.100
   set COLLAB_TODO_DB_USER=username
   set COLLAB_TODO_DB_PASSWORD=password
   set COLLAB_TODO_DB_NAME=collab_todo
   ```

## 실행

### 첫 실행

1. **실행 파일 실행**
   - `CollabTodoDesktop.exe` 더블 클릭

2. **사용자 선택**
   - 첫 실행 시 사용자 선택 다이얼로그가 표시됩니다.
   - 활성 사용자 목록에서 사용자를 선택합니다.
   - "확인" 클릭

3. **자동 동기화 시작**
   - 사용자 선택 후 자동으로 5초마다 데이터베이스와 동기화합니다.
   - 상태바에서 연결 상태와 마지막 동기화 시간을 확인할 수 있습니다.

### 정상 실행 확인

- **상태바 확인**:
  - 왼쪽: "DB: 연결됨" (녹색)
  - 오른쪽: "마지막 동기화: YYYY-MM-DD HH:MM:SS UTC"

- **대시보드 확인**:
  - 오른쪽 패널에 작업 요약이 표시됩니다.
  - 전체 작업 수, 상태별 작업 수, 기한 임박/초과 작업 수가 표시됩니다.

## 문제 해결

### 데이터베이스 연결 실패

**증상**: 상태바에 "DB: 끊김" 표시

**해결 방법**:
1. `appsettings.json` 파일 확인
   - 실행 파일과 같은 폴더에 있는지 확인
   - JSON 형식이 올바른지 확인
2. 네트워크 연결 확인
   - NAS에 접근 가능한지 확인
   - 방화벽 설정 확인
3. 데이터베이스 설정 확인
   - 호스트 주소, 포트, 사용자 이름, 비밀번호 확인
   - 데이터베이스 서버가 실행 중인지 확인

### 사용자 선택 다이얼로그가 표시되지 않음

**증상**: 실행 시 사용자 선택 없이 바로 메인 화면 표시

**해결 방법**:
1. 데이터베이스 연결 확인
2. 활성 사용자가 데이터베이스에 있는지 확인
3. 애플리케이션 재시작

### 동기화가 작동하지 않음

**증상**: 대시보드가 비어 있거나 업데이트되지 않음

**해결 방법**:
1. 상태바의 연결 상태 확인
2. 사용자가 선택되었는지 확인 (창 제목에 사용자 이름 표시)
3. 데이터베이스에 해당 사용자에게 할당된 작업이 있는지 확인
4. 애플리케이션 재시작

### AI 요약 테스트 실패

**증상**: "도구" → "AI 요약 테스트" 실행 시 오류

**해결 방법**:
1. AI 서비스 설정 확인 (`appsettings.json` 또는 환경 변수)
2. `COLLAB_TODO_AI_BASE_URL`이 올바르게 설정되었는지 확인
3. 네트워크 연결 확인
4. AI 서비스가 정상 작동하는지 확인

### 실행 파일이 실행되지 않음

**증상**: 더블 클릭해도 아무 반응 없음

**해결 방법**:
1. Windows 버전 확인 (Windows 10 이상 필요)
2. 바이러스 백신 소프트웨어 확인 (차단되었을 수 있음)
3. 관리자 권한으로 실행 시도
4. 이벤트 뷰어에서 오류 로그 확인

## 로그 확인

현재 버전에서는 콘솔 로그가 제공되지 않습니다. 향후 버전에서 로그 파일 지원이 추가될 예정입니다.

## 업데이트

1. 새 버전의 `CollabTodoDesktop.exe` 다운로드
2. 기존 실행 파일을 새 파일로 교체
3. `appsettings.json` 파일은 그대로 유지 (설정 보존)

## 제거

### 단일 실행 파일 사용 시

1. 실행 파일 삭제
2. `appsettings.json` 파일 삭제 (선택사항)
3. 바로가기 삭제 (있는 경우)

### 설치 프로그램 사용 시

1. Windows 설정 → 앱 → 앱 및 기능
2. "Collab Todo Desktop" 검색
3. 제거 클릭

## 추가 정보

### 파일 구조

```
CollabTodoDesktop/
├── CollabTodoDesktop.exe      # 실행 파일 (모든 의존성 포함)
└── appsettings.json           # 설정 파일 (선택사항)
```

### 보안 고려사항

- `appsettings.json`에 비밀번호가 평문으로 저장됩니다.
- 공유 컴퓨터에서는 환경 변수 사용을 권장합니다.
- `appsettings.json` 파일을 다른 사람과 공유하지 마세요.

### 성능

- 첫 실행 시 약 1-2초 소요 (자체 압축 해제)
- 이후 실행은 즉시 시작
- 메모리 사용량: 약 50-100MB
- CPU 사용량: 동기화 시에만 일시적으로 증가

## 지원

문제가 발생하면 다음을 확인하세요:
1. 이 가이드의 "문제 해결" 섹션
2. GitHub Issues: https://github.com/skymean00-ctrl/collab-todo-desktop/issues

---

**버전**: 1.0.0 (C# / .NET)  
**최종 업데이트**: 2025-01-XX

